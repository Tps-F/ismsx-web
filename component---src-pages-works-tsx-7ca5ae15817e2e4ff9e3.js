"use strict";(self.webpackChunkisshin=self.webpackChunkisshin||[]).push([[775],{5811:function(e,t,a){var r=a(7294),l=a(7896),n=a(4160);t.Z=e=>{let{colors:t=[]}=e;const a=(0,l.useLocation)().pathname.replace(/\//g,"");return r.createElement(r.Fragment,null,r.createElement("div",{className:"px-4 py-2 text-center text-sm font-semibold text-gray-500 outline-none ring-indigo-300 transition duration-100 hover:bg-gray-100 focus-visible:ring active:bg-gray-200 md:px-8 md:py-3 md:text-base"},r.createElement("div",{className:`mb-4 tracking-widest ${t[0]||"text-works"} text-right text-xl`},r.createElement(n.rU,{to:""===a?"works":"/works",className:"text-blue-500 hover:text-blue-700"},"works")),r.createElement("div",{className:`mb-4 tracking-widest ${t[1]||"text-about"} text-right text-xl`},r.createElement(n.rU,{to:""===a?"about":"/about",className:"text-blue-500 hover:text-blue-700"},"about")),r.createElement("div",{className:`mb-4 tracking-widest ${t[2]||"text-primary"} text-right text-xl`},r.createElement("a",null,"contact"))))}},1411:function(e,t,a){a.r(t),a.d(t,{Head:function(){return i},default:function(){return c}});var r=a(7294),l=a(5865),n=a(5313);var s=()=>{const{0:e,1:t}=(0,r.useState)([]),{0:a,1:s}=(0,r.useState)(null);(0,r.useEffect)((()=>{(async()=>{try{const{getWorks:e}=(0,l.F)(),a=await e();t(a.sort(n.d))}catch(e){console.error("Error fetching works:",e.message)}})()}),[]);return r.createElement("div",null,r.createElement("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 "+(a?"opacity-10 pointer-events-none":"")},e.map((e=>r.createElement("div",{key:e.id,className:"relative"},r.createElement("div",{onClick:()=>(e=>{s(e)})(e),className:"group block w-full overflow-hidden bg-gray-100 relative aspect-video"},r.createElement("img",{src:`https://dyumuwuiwrqxdpmllqfh.supabase.co/storage/v1/object/public/${e.image[0]}`,alt:e.name,className:"h-full w-full object-cover object-center transition duration-200"}),r.createElement("span",{className:"hover:backdrop-brightness-50 absolute top-0 left-0 right-0 bottom-0 flex flex-col text-white opacity-0 transition-opacity duration-200 hover:opacity-100 p-4"},r.createElement("span",{className:"text-secondary"},e.date.split("-").slice(0,2).join("-")),r.createElement("a",{href:e.url,className:"text-lg text-secondary transition duration-100 hover:text-gray-500 lg:text-xl"},e.name))))))),a&&r.createElement("div",{onClick:()=>{s(null)},className:"fixed top-8 left-0 w-full h-full bg-secondary py-2 lg:py-2 font-caviardreams"},r.createElement("div",{className:"mx-auto max-w-screen-lg px-4 md:px-8 "},r.createElement("br",null),r.createElement("div",{className:"relative mb-6 overflow-hidden rounded-lg bg-gray-100 md:mb-8"},r.createElement("img",{src:`https://dyumuwuiwrqxdpmllqfh.supabase.co/storage/v1/object/public/${a.image[0]}`,loading:"lazy",className:"h-full w-full object-cover object-center",alt:"about"})),r.createElement("div",{className:"md:py-8"},r.createElement("div",{className:"mb-2 md:mb-3"},r.createElement("span",{className:"mb-0.5 inline-block text-gray-500"},a.date),r.createElement("h2",{className:"text-xl font-bold text-gray-800 lg:text-2xl"},r.createElement("a",{href:a.url},a.name)))))))},o=a(5811);var c=()=>r.createElement("div",{className:"min-h-screen bg-secondary py-6 sm:py-8 font-caviardreams"},r.createElement("div",{className:"mx-auto max-w-screen-2xl px-4 md:px-8"},r.createElement("div",{className:"mb-4 text-5xl font-bold sm:text-6xl md:mb-6 text-works grid-cols-2 grid"},r.createElement("h1",{className:"mb-6 col-span-1 flex items-center"},"works"),r.createElement("div",{className:"mb-6 flex items-end justify-between gap-4 col-span-1"},r.createElement("br",null),r.createElement(o.Z,null))),r.createElement(s,null)));const i=()=>r.createElement("title",null,"isshin â€” Works")},5865:function(e,t,a){a.d(t,{F:function(){return l}});var r=a(5505);const l=()=>({addWork:async e=>{let{workName:t,date:a,url:l,description:n,images:s}=e;try{var o;const{data:e,error:c}=await r.O.from("works").select("id").order("id",{ascending:!1}).limit(1);if(c)throw new Error(`Error fetching max work id: ${c.message}`);const i=(((null==e||null===(o=e[0])||void 0===o?void 0:o.id)||0)+1).toString();console.log(e),console.log(i);const m=[],d=s.map((async(e,t)=>{const{data:a,error:l}=await r.O.storage.from("assets").upload(`works/${i}/${t}`,e);if(l)throw new Error(`Error uploading image: ${l.message}`);m.push(a)}));await Promise.all(d),console.log(m);const u=m.map((e=>e.fullPath));console.log(u);const{data:g,error:x}=await r.O.from("works").insert([{name:t,date:a,image:u,url:l,description:n}]).select();if(x)throw new Error(`Error uploading works: ${x.message}`);return console.log(g),g}catch(c){return console.error("An error occurred:",c.message),null}},getWorks:async()=>{try{const{data:e,error:t}=await r.O.from("works").select("*");if(t)throw new Error(`Error uploading image: ${t.message}`);return e}catch(e){console.error("An error occurred:",e.message)}}})},5313:function(e,t,a){a.d(t,{d:function(){return r}});const r=(e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()}}]);
//# sourceMappingURL=component---src-pages-works-tsx-7ca5ae15817e2e4ff9e3.js.map